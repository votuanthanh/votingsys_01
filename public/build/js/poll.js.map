{"version":3,"sources":["poll.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"poll.js","sourcesContent":["/*-----------------------------------------\n            GLOBAL VARIABLE\n-------------------------------------------*/\nvar pollData = $('.hide').data(\"poll\");\nvar dataAction = $('.hide').data(\"page\");\nvar _validFileExtensions = [\".jpg\", \".jpeg\", \".bmp\", \".gif\", \".png\"];\nvar actionShowHides = ['show', 'hide'];\nvar typeElement = ['id', 'class'];\nvar rand = function() {\n    return Math.random().toString(36).substr(2); // remove `0.`\n};\nvar gliphyCalendarGroup = '<span class=\"input-group-addon\"><span class=\"glyphicon glyphicon-calendar\"></span></span>';\n/*-----------------------------------------\n                 FUNCTION\n -------------------------------------------*/\nfunction nextTab(elem) {\n    $(elem).next().find('a[data-toggle=\"tab\"]').click();\n}\nfunction prevTab(elem) {\n    $(elem).prev().find('a[data-toggle=\"tab\"]').click();\n}\n\n/**\n *\n * tooltip bootstrap\n *\n */\n$('a[data-toggle=\"tooltip\"]').tooltip({\n    animated: 'fade',\n    placement: 'bottom',\n    html: true\n});\n\n/**\n *\n * auto scroll to top\n *\n * @param id\n */\nfunction autoScrollToElement(id) {\n    $('html, body').animate({\n        scrollTop: $(\"#\" + id).offset().top + 100\n    }, 2000);\n}\n\n/**\n * setting datetimepicker\n */\n$(function () {\n    $('#time_close_poll').datetimepicker({\n        format: 'DD-MM-YYYY HH:mm'\n    });\n});\n\n/**\n *\n * show message alert confirm\n *\n * @param message\n */\nfunction confirmDelete(message) {\n    return confirm(message);\n}\n\n/**\n * show or hide password of poll\n */\nfunction showAndHidePassword() {\n    if($('#password').attr(\"type\") == \"password\"){\n        $('#password').attr(\"type\", \"text\");\n        $('.show-password').html('<i class=\"fa fa-eye-slash\" aria-hidden=\"true\"></i>');\n    } else {\n        $('#password').attr(\"type\", \"password\");\n        $('.show-password').html('<i class=\"fa fa-eye\" aria-hidden=\"true\"></i>');\n    }\n}\n\n/**\n *\n * show modal preview option image in view details\n *\n * @param image\n */\nfunction showModelImage(image) {\n    $('#imageOfOptionPreview').attr(\"src\", image);\n    $('#modalImageOption').modal('show');\n}\n\n/**\n *\n * show result in detail page\n *\n */\nfunction showResultPoll() {\n    $('.result-poll').fadeToggle();\n\n    if ($('.btn-show-result-poll').attr('id') == 'show') {\n        $('.li-show-result-poll').removeClass('fa-eye').addClass('fa-eye-slash');\n        $('.btn-show-result-poll').attr('id', 'hide');\n    } else {\n        $('.li-show-result-poll').removeClass('fa-eye-slash').addClass('fa-eye');\n        $('.btn-show-result-poll').attr('id', 'show');\n    }\n\n    $('.fixed-header').remove();\n    $('.td-fixed-check').remove();\n\n    if ($('.li-show-result-poll').hasClass('fa-eye-slash')) {\n        createFixedTfoot();\n    }\n}\n\n/**\n *\n * hide label message\n *\n * @param element\n */\nfunction hideLabelMessage(element) {\n    setTimeout( function () {\n        $(element).html('');\n    }, 2000);\n}\n\n/**\n *\n * change tab vote save status of option\n *\n * @param id\n * @param type\n */\nfunction voted(id, type) {\n    if (type == 'timeline-temp') {\n        $('#timeline-temp-' + id).prop('checked', !$('#timeline-temp-' + id).prop('checked'));\n        $('#vertical-' + id).add('#timeline-' + id)\n            .add('#horizontal-' + id)\n            .prop('checked', $('#timeline-temp-' + id).prop('checked'));\n\n        return;\n    }\n\n    if (type == 'horizontal') {\n        $('#horizontal-' + id).prop('checked', !$('#horizontal-' + id).prop('checked'));\n        $('#vertical-' + id).add('#timeline-' + id).prop('checked', $('#horizontal-' + id).prop('checked'));\n    } else if (type == 'vertical') {\n        $('#vertical-' + id).prop('checked', !$('#vertical-' + id).prop('checked'));\n        $('#horizontal-' +id).add('#timeline-' + id).prop('checked', $('#vertical-' + id).prop('checked'));\n    } else {\n        $('#timeline-' + id).prop('checked', !$('#timeline-' + id).prop('checked'));\n        $('#vertical-' + id).add('#horizontal-' + id).prop('checked', $('#timeline-' + id).prop('checked'));\n    }\n}\n\n/**\n * Create option of poll\n *\n * @param viewOption\n * @param number\n * @param oldInput\n */\nfunction createOption(viewOption, number, oldInput) {\n    number = (typeof number === 'undefined') ? pollData.config.length.option_inc : number;\n\n    if (oldInput != null) {\n        var oldOption = oldInput.optionText;\n\n        jQuery.each( oldOption, function( id, val ) {\n            var option = \"\";\n            option = viewOption.replace(/idOption/g, id);\n            $('.poll-option').append(option);\n            setObjectDatePicker();\n            $('#optionText-' + id).val(val);\n        });\n    } else {\n        for (var i = 0; i < number; i++) {\n            var id = rand();\n            var option = \"\";\n            option = viewOption.replace(/idOption/g, id);\n            $('.poll-option').append(option);\n            setObjectDatePicker();\n        }\n    }\n}\n\n/**\n * Show image input when click button have image icon\n *\n * @param idOption\n */\nfunction showOptionImage(idOption) {\n    addAutoOption(idOption);\n    $('input[name = \"optionImage[' + idOption + ']\"]').click();\n}\n\n/**\n *\n * function auto add option\n *\n * @param idOption\n */\nfunction addAutoOption(idOption) {\n    $('#optionText-' + idOption).removeClass('error-input');\n    if ($('#' + idOption).is(':last-child')) {\n        var viewOption = pollData.view.option;\n        var number = pollData.config.length.option_inc;\n        createOption(viewOption, number);\n    }\n}\n\n\n/**\n *\n * View picture when choose image\n *\n * @param input\n * @param idShow\n */\nfunction readURL(input, idShow) {\n    if (ValidateSingleInput(input.files[0].name)) {\n        if (input.files && input.files[0]) {\n            var reader = new FileReader();\n            reader.onload = function (e) {\n                $('#' + idShow).show().attr('src', e.target.result);\n                checkImageSame();\n            };\n\n            reader.readAsDataURL(input.files[0]);\n        }\n    } else {\n        $('#' + idShow).hide();\n    }\n}\n\n/**\n *\n * remove option of poll\n *\n * @param idOption\n * @param action\n */\nfunction removeOpion(idOption, action) {\n    if (typeof pollData !== \"undefined\"\n        && typeof action !== \"undefined\"\n        && action == \"edit\") {\n        if (confirmDelete(pollData.message.confirm_delete_option)) {\n            $(\"#\" + idOption).remove();\n        }\n    } else {\n        $(\"#\" + idOption).remove();\n        var optionLists = $('input[name^=\"optionText\"]');\n\n        if (optionLists.length == 0) {\n            $('.error_option').addClass('has-error')\n                .html('<span id=\"title-error\" class=\"help-block\">' + pollData.message.option_minimum + '</span>');\n            var viewOption = pollData.view.option;\n            createOption(viewOption);\n        }\n    }\n}\n\n/**\n *\n * show advance setting: custom link, set limit, set password\n *\n * @param key\n */\nfunction settingAdvance(key) {\n    $('#limit').removeClass('has-error');\n    $('.error_limit').removeClass('has-error').html('');\n\n    $('#link').removeClass('has-error');\n    $('.error_link').removeClass('has-error').html('');\n\n    $('#password').removeClass('has-error');\n    $('.error_password').removeClass('has-error').html('');\n\n    switch (key) {\n        case pollData.config.setting.required:\n            switchSettingValue('setting-required', key);\n\n            break;\n        case pollData.config.setting.custom_link:\n            switchSettingValue('setting-link', key);\n\n            break;\n        case pollData.config.setting.set_limit:\n            switchSettingValue('setting-limit', key);\n\n            break;\n        case pollData.config.setting.set_password:\n            switchSettingValue('setting-password', key);\n\n            break;\n        default:\n            break;\n    }\n}\n\nfunction switchSettingValue(id, key)\n{\n    if ($('[name=\"setting[' + key +']\"]').bootstrapSwitch('state')) {\n        $('#' + id).slideDown();\n\n        return;\n    }\n\n    $('#' + id).slideUp();\n}\n\n/**\n *\n * validate format of option image\n *\n * @param oInput\n * @returns {boolean}\n * @constructor\n */\nfunction ValidateSingleInput(oInput) {\n    var sFileName = oInput;\n\n    if (sFileName.length > 0) {\n        var blnValid = false;\n\n        for (var j = 0; j < _validFileExtensions.length; j++) {\n            var sCurExtension = _validFileExtensions[j];\n            if (sFileName.substr(\n                    sFileName.length - sCurExtension.length, sCurExtension.length\n                ).toLowerCase() == sCurExtension.toLowerCase()) {\n                blnValid = true;\n                break;\n            }\n        }\n\n        if (!blnValid) {\n            $('.error_option').addClass('has-error')\n                .html('<span id=\"title-error\" class=\"help-block\">' + pollData.message.image + '</span>');\n\n            return false;\n        }\n    }\n\n    return true;\n}\n\n/**\n *\n * validate option when create, edit, duplicate poll\n *\n * @returns {boolean}\n */\nfunction validateOption() {\n    var optionLists = $('input[name^=\"optionText\"]');\n    var imageLists = $('input[name^=\"optionImage\"]');\n    var isOption = true;\n    var isEmpty = false;\n    $('#validateOption').html(\"\");\n\n    if (typeof dataAction !== \"undefined\") {\n        if (dataAction == \"duplicate\") {\n            if ($('.old-option').text().trim() !== \"\") {\n                return true;\n            }\n        }\n    }\n\n    if (optionLists.length == 0 && imageLists.length == 0) {\n        $('.error_option').addClass('has-error')\n            .html('<span id=\"title-error\" class=\"help-block\">' + pollData.message.option_empty + '</span>');\n\n        return false;\n    }\n\n    optionLists.each(function () {\n        if ($(this).val() != \"\") {\n            isEmpty = true;\n        }\n    });\n\n    if (! isEmpty) {\n        $('.error_option').addClass('has-error')\n            .html('<span id=\"title-error\" class=\"help-block\">' + pollData.message.option_required + '</span>');\n\n        return false;\n    }\n\n    optionLists.each(function (key) {\n        var id = $(this).attr('id');\n        var idOption = id.match(/optionText-(.*)/)[1];\n\n        if ($(this).val() == \"\") {\n            imageLists.each(function (keyImage) {\n                if ($(this).attr('name').indexOf(idOption) > -1) {\n                    if ($(this).val() != \"\") {\n                        $('#' + id).addClass('error-input');\n                        $('.error_option').addClass('has-error')\n                            .html('<span id=\"title-error\" class=\"help-block\">'\n                                + pollData.message.option_required + '</span>');\n                        isOption = false;\n                    }\n                }\n            });\n        }\n    });\n\n    return isOption;\n}\n\n/**\n *\n * validate participant when create or duplicate poll\n *\n * @returns {boolean}\n */\nfunction validateParticipant() {\n    var members = $(\"#member\").val();\n\n    if (members == \"\") {\n        $('.error_participant').removeClass('has-error');\n        return true;\n    }\n\n    members = members.split(\",\");\n\n    for (var index = 0; index < members.length; index++) {\n        if (! validateEmail(members[index])) {\n            $('.error_participant').addClass('has-error')\n                .html('<span id=\"title-error\" class=\"help-block\">' + pollData.message.email + '</span>');\n\n            return false;\n        }\n    }\n\n    $('.error_participant').removeClass('has-error');\n\n    return true;\n}\n\n/**\n *\n * jQuery Validate Emails with Regex\n *\n * @param email\n * @returns {boolean}\n */\nfunction validateEmail(email) {\n    var pattern = /^([\\w-\\.]+)@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.)|(([\\w-]+\\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\\]?)$/;\n    return $.trim(email).match(pattern) ? true : false;\n}\n\n/**\n * validate link\n *\n * @param token\n * @returns {*}\n */\nfunction validateLink(token) {\n    return $.ajax({\n        url: $('.hide').data(\"routeLink\"),\n        type: 'post',\n        async: false,\n        dataType: 'json',\n        data: {\n            'token': token,\n            '_token': $('.hide').data(\"token\")\n        },\n        success: function (data) {\n            if (data.success) {\n                $('.message-send-mail').html(\"<div class='alert alert-success'>\"\n                    + pollData.message.send_email_success + \"</div>\");\n            } else {\n                $('.message-send-mail').html(\"<div class='alert alert-danger'>\"\n                    + pollData.message.send_email_fail + \"</div>\");\n            }\n        }\n    });\n}\n\n/**\n *\n * validate update information of poll\n *\n * @returns {boolean}\n */\nfunction updatePollInfo() {\n    var valid = $(\"#form_update_poll_info\").valid();\n    if(! valid) {\n        $validator.focusInvalid();\n        return false;\n    }\n\n    $('.loader').show();\n    return true;\n\n}\n\n/**\n *\n * validate update poll setting\n *\n * @returns {boolean}\n */\nfunction updatePollSetting() {\n    var isValidLink = true;\n    var isValidLimit = true;\n    var isValidPassword = true;\n\n    $('input[name^=\"setting\"]:checked').each(function () {\n        switch ($(this).val()) {\n            case pollData.config.setting.custom_link:\n                isValidLink = checkLink($('.hide').data(\"linkPoll\"));\n                break;\n            case pollData.config.setting.set_limit:\n                isValidLimit = checkLimit();\n                break;\n            case pollData.config.setting.set_password:\n                isValidPassword = checkPassword();\n                break;\n            default:\n                break;\n        }\n    });\n\n    if (isValidLink && isValidLimit && isValidPassword) {\n        $('.loader').show();\n\n        return true;\n    }\n\n    return false;\n}\n\n/**\n *\n * validate link of poll\n *\n * @param link\n * @returns {boolean}\n */\nfunction checkLink(link) {\n    var token = $('#link').val();\n    var message = '';\n\n    if (token == \"\") {\n        $('#link').addClass('has-error');\n        $('.error_link').addClass('has-error')\n            .html('<span id=\"title-error\" class=\"help-block\">' + pollData.message.required + '</span>');\n\n        return false;\n    }\n\n    if (typeof link !== 'undefined' && link != (pollData.config.link + token)) {\n        if (validateLink($('#link').val()).responseJSON.success) {\n            $('#link').addClass('has-error');\n            $('.error_link').addClass('has-error')\n                .html('<span id=\"title-error\" class=\"help-block\">' + pollData.message.link_exists + '</span>');\n\n\n            return false;\n        }\n    }\n\n    if (validateLink($('#link').val()).responseJSON.success) {\n        $('#link').addClass('has-error');\n        $('.error_link').addClass('has-error')\n            .html('<span id=\"title-error\" class=\"help-block\">' + pollData.message.link_exists + '</span>');\n\n        return false;\n    }\n\n    $('#link').removeClass('has-error');\n    $('.error_link').removeClass('has-error')\n        .html('<span id=\"title-success\" class=\"help-block\">' + pollData.message.link_valid + '</span>');\n\n    return true;\n}\n\n/**\n *\n * validate limit of poll\n *\n * @returns {boolean}\n */\nfunction checkLimit() {\n    var limit = $('#limit').val();\n    if (limit == \"\") {\n        $('#limit').addClass('has-error');\n        $('.error_limit').addClass('has-error')\n            .html('<span id=\"title-error\" class=\"help-block\">' + pollData.message.required + '</span>');\n\n        return false;\n    }\n\n    if (! Number.isInteger(limit) && ! (limit > 0)) {\n        $('#limit').addClass('has-error');\n        $('.error_limit').addClass('has-error')\n            .html('<span id=\"title-error\" class=\"help-block\">' + pollData.message.number + '</span>');\n\n        return false;\n    }\n\n    if (dataAction == 'edit' && limit <= $('.hide').data(\"totalVote\")) {\n        $('#limit').addClass('has-error');\n        $('.error_limit').addClass('has-error')\n            .html('<span id=\"title-error\" class=\"help-block\">'\n                + pollData.message.number_edit + $('.hide').data(\"totalVote\") + '</span>');\n\n        return false;\n    }\n\n    $('#limit').removeClass('has-error');\n    $('.error_limit').removeClass('has-error').html('');\n\n    return true;\n}\n\n/**\n *\n * validate password of poll\n *\n * @returns {boolean}\n */\nfunction checkPassword() {\n    var password = $('#password').val();\n\n    if (password == \"\") {\n        $('#password').addClass('has-error');\n        $('.error_password').addClass('has-error')\n            .html('<span id=\"title-error\" class=\"help-block\">' + pollData.message.required + '</span>');\n\n        return false;\n    }\n\n    $('#password').removeClass('has-error');\n    $('.error_password').removeClass('has-error');\n\n    return true;\n}\n\n/**\n *\n * check validate of form winzard: create, duplicate form\n *\n * @param elementWizard\n * @param formId\n * @returns {boolean}\n */\nfunction checkValidFormWinzard(elementWizard, formId, validator) {\n\n    //get index of tab current\n    var wizard = elementWizard.bootstrapWizard('currentIndex');\n\n    //get validation of form\n    var valid = formId.valid();\n\n    //check if form valid, it will be return TRUE\n    if(! valid) {\n        validator.focusInvalid();\n\n        return false;\n    }\n\n    //check option of poll\n    if (wizard == 1) {\n        return validateOption() && (! checkOptionSame());\n    }\n\n    if (wizard == 2) {\n        var isValid = true;\n        var value = 0;\n\n        $('input[name^=\"setting\"]:checked').each(function () {\n            value = parseInt($(this).val());\n\n            switch (value){\n                case (pollData.config.setting.custom_link):\n                    isValid = checkLink();\n                    break;\n                case (pollData.config.setting.set_limit):\n                    isValid = checkLimit();\n                    break;\n                case (pollData.config.setting.set_password):\n                    isValid = checkPassword();\n                    break;\n                case (pollData.config.setting.add_type_mail):\n                    isValid = checkTypeEmail();\n                    break;\n                default:\n                    break;\n            }\n        });\n\n        return isValid;\n    }\n}\n\n/**\n *\n * validate change link admin of poll\n *\n */\nfunction changeLinkAdmin() {\n    var tokenLinkAdmin = $('.hide').data('tokenAdmin');\n    if (tokenLinkAdmin != $('#link_admin').val()) {\n        $('#label_link_admin').removeAttr('href');\n    } else {\n        $('#label_link_admin').attr('href', $('.token-admin').val());\n    }\n\n    if ((pollData.config.link + $('#link_admin').val()).length > 60) {\n        $('#label_link_admin').html((pollData.config.link + $('#link_admin').val()).substring(0, 60) + '...');\n    } else {\n        $('#label_link_admin').html(pollData.config.link + $('#link_admin').val());\n    }\n\n    if ($('#link_admin').val() == \"\") {\n        $('#link_admin').addClass('has-error');\n        $('.error_link_admin').addClass('has-error');\n        $('.error_link_admin').html('<span id=\"title-error\" class=\"help-block\">' + pollData.message.required + '</span>');\n    } else {\n        if (validateLink($('#link_admin').val()).responseJSON.success) {\n            $('#link_admin').addClass('has-error');\n            $('.error_link_admin').addClass('has-error');\n            $('.error_link_admin').html('<span id=\"title-error\" class=\"help-block\">' + pollData.message.link_exists + '</span>');\n            hideLabelMessage('.error_link_admin');\n        } else {\n            $('#link_admin').removeClass('has-error');\n            $('.error_link_admin').removeClass('has-error');\n            $('.error_link_admin').html('<span id=\"title-success\" class=\"help-block\">' + pollData.message.link_valid + '</span>');\n            hideLabelMessage('.error_link_admin');\n        }\n    }\n\n}\n\n/**\n *\n * validate change link vote of poll\n *\n */\nfunction changeLinkUser() {\n    var tokenLinkUser = $('.hide').data('tokenUser');\n    if (tokenLinkUser != $('#link_user').val()) {\n        $('#label_link_user').removeAttr('href');\n    } else {\n        $('#label_link_user').attr('href', $('.token-user').val());\n    }\n\n    if ((pollData.config.link + $('#link_user').val()).length > 60) {\n        $('#label_link_user').html((pollData.config.link + $('#link_user').val()).substring(0, 60) + '...');\n    } else {\n        $('#label_link_user').html(pollData.config.link + $('#link_user').val());\n    }\n\n\n    if ($('#link_user').val() == \"\") {\n        $('#link_user').addClass('has-error');\n        $('.error_link_user').addClass('has-error');\n        $('.error_link_user').html('<span id=\"title-error\" class=\"help-block\">' + pollData.message.required + '</span>');\n    } else {\n        if (validateLink($('#link_user').val()).responseJSON.success) {\n            $('#link_user').addClass('has-error');\n            $('.error_link_user').addClass('has-error');\n            $('.error_link_user').html(\n                '<span id=\"title-error\" class=\"help-block\">'\n                + pollData.message.link_exists\n                + '</span>');\n            hideLabelMessage('.error_link_user');\n        } else {\n            $('#link_user').removeClass('has-error');\n            $('.error_link_user').removeClass('has-error');\n            $('.error_link_user').html('<span id=\"title-success\" class=\"help-block\">'\n                + pollData.message.link_valid\n                + '</span>');\n            hideLabelMessage('.error_link_user');\n        }\n    }\n}\n\n/**\n *\n * check option of poll is same?\n *\n * @param input\n * @returns {boolean}\n */\nfunction checkOptionSame(input, message = null) {\n    var valuesSoFar = [];\n    var isDuplicate = false;\n    var message = message ? message : pollData.message.option_duplicate;\n\n\n    if (typeof input !== 'undefined') {\n        // show notity if duplicate\n        var value = $(input).val().trim();\n\n        $('input[name^=\"optionText\"]').not($(input)).each(function (index, item) {\n            if (value && item.value == value && !$(item).hasClass('duplication')) {\n                $(input).addClass('duplication');\n\n                return false;\n            }\n\n            $(input).removeClass('duplication');\n        });\n    }\n\n\n    $('input[name^=\"optionText\"]').each(function () {\n        var value = $(this).val().trim();\n        if (valuesSoFar.indexOf(value) !== -1 && value != \"\") {\n            isDuplicate = true;\n        }\n        valuesSoFar.push(value);\n    });\n\n    if (isDuplicate) {\n        $('.error_option').addClass('has-error').html('<span id=\"title-error\" class=\"help-block\">' + message + '</span>');\n        $('.btn-edit-submit').length && $('.btn-edit-submit').prop('disabled', true);\n    } else {\n        $('.error_option').removeClass('has-error').html('');\n        $('.btn-edit-submit').length && $('.btn-edit-submit').prop('disabled', false);\n        $('input[name^=\"optionText\"]').removeClass('duplication');\n    }\n\n    return isDuplicate;\n}\n\n/**\n *\n * check option image of poll is same?\n *\n * @returns {boolean}\n */\nfunction checkImageSame() {\n    var srcs = [],\n        temp;\n    var  isDuplicate = false;\n    var images = $(\".poll-option img\").get();\n\n    $.each(images, function(key, image){\n        temp = $('#' + $(image).attr(\"id\")).attr(\"src\");\n        if (temp != \"#\" && temp != '') {\n            if($.inArray(temp, srcs) < 0){\n                srcs.push(temp);\n            } else {\n                isDuplicate = true;\n            }\n        }\n\n    });\n\n    if (isDuplicate) {\n        $('.error_option').html('<span id=\"title-warning\" class=\"help-block\">'\n            + pollData.message.option_image_duplicate + '</span>');\n    } else {\n        $('.error_option').html('');\n    }\n\n    return isDuplicate;\n}\n\n/**\n *\n * get current location of user when create poll\n *\n */\nfunction getCurrentLocation() {\n    if ($('#location').val() == '') {\n        var map = new google.maps.Map(document.getElementById('map'), {\n            center: {lat: -34.397, lng: 150.644},\n            zoom: 6\n        });\n\n        if (navigator.geolocation) {\n            navigator.geolocation.getCurrentPosition(function(position) {\n                $.ajax({\n                    url: $('.hide').data(\"locationRoute\"),\n                    type: 'post',\n                    data: {\n                        'lat': position.coords.latitude,\n                        'lng': position.coords.longitude,\n                        '_token': $('.hide').data(\"token\")\n                    },\n                    success: function (data) {\n                        if (data.success && data.location != '') {\n                            $('#location').val(data.location);\n                        }\n                    }\n                });\n            });\n        }\n    }\n}\n\n/**\n * Update Datepicker\n */\n\nfunction setDatePicker($domCurrent)\n{\n    $domCurrent.datetimepicker({\n        showClose: true,\n        icons: {close: 'glyphicon glyphicon-ok'},\n        format: 'DD-MM-YYYY HH:mm',\n    });\n}\n\n/**\n * Set Object datepicker\n */\nfunction setObjectDatePicker() {\n    var currentPicker = $('.datetimepicker').last();\n    setDatePicker(currentPicker);\n    currentPicker.data('tempDatePicker', currentPicker.data('DateTimePicker'));\n    currentPicker.last().data('DateTimePicker').hide().destroy();\n}\n\n/**\n * Set datepicker\n */\nfunction pickDateOption() {\n    $('.poll-option').on('click', '.pick-date', function () {\n        $(this).parent().data('tempDatePicker').show();\n    });\n\n    $('.poll-option').on('dp.hide', '.datetimepicker', function () {\n        var $this = $(this);\n        var input = $this.find('input[type=text]');\n        var dateText = input.val();\n        var typeText = typeof $this.data('pickingDate') === 'undefined' ? '' : $this.data('pickingDate').trim();\n        var fullText = (typeText + ' ' + dateText).trim();\n        input.val(fullText);\n    });\n\n    $('.poll-option').on('input', 'input[name^=optionText]', function () {\n        var parentPicker = $(this).parent();\n        var dateText = parentPicker.find('input[type=text]').val();\n        parentPicker.data('pickingDate', dateText);\n    });\n}\n\n/**\n *  Check valid type email\n */\nfunction checkTypeEmail()\n{\n    var domTypeEmail = $('.add-type-email:visible');\n    var domShowError = domTypeEmail.find('.error-type-email');\n    var valTypeEmail = domTypeEmail.find('.tags-email').tagsinput('items');\n    var parttern = /^([A-Z0-9-]+\\.)+[A-Z]{2,4}$/i;\n\n    if (!valTypeEmail.length) {\n        domShowError.addClass('has-error')\n            .html('<span id=\"title-error\" class=\"help-block\">' + pollData.message.required + '</span>');\n\n        return false;\n    }\n\n    var typeEmailValid = true;\n    valTypeEmail.some(function (item, index) {\n        if (!parttern.test(item)) {\n            typeEmailValid = false;\n\n            return true;\n        }\n    });\n\n    if (!typeEmailValid) {\n        domShowError.addClass('has-error')\n            .html('<span id=\"title-error\" class=\"help-block\">' + pollData.message.type_email_invalid + '</span>');\n\n        return false;\n    }\n\n    domShowError.removeClass('has-error');\n\n    return true;\n}\n\n/**\n * Fix Head Table\n */\nfunction destroyDom()\n{\n    Waypoint.destroyAll();\n    $('.fixed-header').remove();\n    $('.td-fixed-check').remove();\n}\n\nfunction addSize(item)\n{\n    return {\n        'height': item.outerHeight(),\n        'width': item.outerWidth()\n    };\n}\n\nfunction createFixedTfoot()\n{\n    $('.td-fixed-check').remove();\n\n    var $box = $('<div>').addClass('td-fixed-check');\n\n    var $checkOption = $('.tf-check-option tr.tr-input');\n\n    var style = addSize($checkOption);\n\n    style.position = 'absolute';\n    style.bottom = -$('#timeline').scrollTop();\n\n    $box.css(style);\n\n    var total = $('.tf-check-option tr.tr-input td').length;\n\n    $('.tf-check-option tr.tr-input td').each(function (index, item) {\n        var $chirenBox = $('<div>');\n        var $boxTemp = $(item);\n\n        $.each(this.attributes, function(i, attr){\n            if (attr.name != 'colspan') {\n                $chirenBox.attr(attr.name, attr.value);\n            }\n        });\n\n        var size = addSize($boxTemp);\n\n        if (index === 0) {\n            size.width = size.width + 1;\n        }\n\n        if (index === total - 1) {\n            size.width = size.width - 1;\n        }\n\n        $chirenBox.addClass('pull-left');\n\n        $chirenBox.css(size).html($boxTemp.html());\n\n        $box.append($chirenBox);\n    });\n\n    var outerHTML = $box[0].outerHTML.replace(/timeline/g, 'timeline-temp');\n\n    $('#timeline').append(outerHTML);\n}\n\nfunction createWaypointThead()\n{\n    $('.fixed-header').remove();\n\n    // Waypont timelime first tr tbody\n    $('.waypoints tr:first-child').waypoint(function (direction) {\n        if (direction == 'down' && !$('.fixed-header').length && $('.li-show-result-poll').hasClass('fa-eye-slash')) {\n            var $thead = $(\"<div>\").addClass('fixed-header').css({\n                'position': 'absolute',\n                'top' : $('#timeline').scrollTop()\n            });\n\n            $('.thead tr').each(function (eq, value) {\n                var $tr = $(\"<div>\").addClass('clearfix');\n                $tr.css(addSize($(value)));\n\n                var total = $(value).find('td').length;\n\n                $(value).find('td').each(function (index, tdTemp) {\n                    var $td = $(\"<div>\").addClass('pull-left td-text text-center');\n                    var $tdTemp = $(tdTemp);\n\n                    if ($tdTemp.is('.hname, .hemail, .msep, .dsep') || $tdTemp.attr('colspan') == 3) {\n                        $td.removeClass('text-center');\n                    }\n\n                    if ($tdTemp.hasClass('td-not-bg')) {\n                        $td.addClass('td-not-bg');\n                    }\n\n                    var size = addSize($tdTemp);\n\n                    if (index === 0) {\n                        size.width = size.width + 1;\n                    }\n\n                    if (index === total - 1) {\n                        size.width = size.width - 1;\n                    }\n\n                    $td.css(size).html($tdTemp.html());\n\n                    $tr.append($td);\n                })\n\n                $thead.append($tr);\n            })\n\n            //$('#timeline').prepend($thead);\n            $('.table.option-date.tb-option').before($thead);\n        }\n    }, {\n        context: '#timeline'\n    });\n}\n\n/*-----------------------------------------\n                EVENT\n -------------------------------------------*/\n/**\n * add method validate time\n */\nif (typeof pollData !== \"undefined\") {\n    jQuery.validator.addMethod(\"time\", function(value, element) {\n        if (value) {\n            var routeCheckDate = $('.hide').data('linkCheckDate');\n            var dateClosePoll = $('#time_close_poll').val();\n            var result = $.ajax({\n                type: 'GET',\n                url: routeCheckDate,\n                dataType: 'JSON',\n                async: false,\n                data: {\n                    'date_close_poll': dateClosePoll,\n                },\n                success: function(data){\n                    if (data.success) {\n                        return true;\n                    } else {\n                        return false;\n                    }\n                }\n            });\n\n            return result.responseJSON.success;\n        }\n\n        return true;\n    }, pollData.message.time_close_poll);\n}\n\n/*\n Back to top button\n */\n$(window).scroll(function(){\n    if ($(this).scrollTop() > 100) {\n        $('#scroll').fadeIn();\n    } else {\n        $('#scroll').fadeOut();\n    }\n});\n$('#scroll').click(function(){\n    $(\"html, body\").animate({ scrollTop: 0 }, 600);\n    return false;\n});\n\n/*\n function show add option advance\n */\n$(\".btn-show-advance-add-option\").click(function(){\n    $('.addAdvance').slideToggle('slow');\n    var id = this.id;\n    if (id == \"show\") {\n        $(\".btn-show-advance-add-option\").html('<span class=\"glyphicon glyphicon-hand-right\"></span>');\n        this.id = \"hide\";\n    } else {\n        $(\".btn-show-advance-add-option\").html('<span class=\"glyphicon glyphicon-hand-left\"></span>');\n        this.id = \"show\";\n    }\n});\n\n$(document).ready(function () {\n\n    /* finish form create or duplicate */\n    $(\".finish\").click(function () {\n        if (validateParticipant() & validateOption() && ! checkOptionSame()) {\n            $('#form_create_poll, #form_duplicate_poll').submit();\n            $('.loader').show();\n        }\n    });\n\n    if (typeof pollData !== \"undefined\") {\n        $.each(pollData.config.setting, function (index, value) {\n            $(\"[name='setting\\\\[\" + value + \"\\\\]']\").bootstrapSwitch({\n                'onText': pollData.message.on,\n                'offText': pollData.message.off,\n                'size': (index == 'not_same_email' || index == 'add_type_mail' ||  index == 'allow_add_option' ||  index == 'allow_edit_vote_of_poll')  ? 'small' : null\n            });\n        });\n\n        var $validator = $(\"#form_create_poll, #form_update_poll_info, #form_duplicate_poll\").validate({\n            rules: {\n                email: {\n                    required: true,\n                    maxlength: pollData.config.length.email,\n                    email: true,\n                },\n                name: {\n                    required: true,\n                    maxlength: pollData.config.length.name\n                },\n                title: {\n                    required: true,\n                    maxlength: pollData.config.length.title\n                },\n                closingTime: {\n                    time:true\n                },\n            },\n            messages: {\n                email: {\n                    required: pollData.message.required,\n                    maxlength: pollData.message.max + pollData.config.length.email,\n                    email: pollData.message.email,\n                },\n                name: {\n                    required: pollData.message.required,\n                    maxlength: pollData.message.max + pollData.config.length.name\n                },\n                title: {\n                    required: pollData.message.required,\n                    maxlength: pollData.message.max +pollData.config.length.title\n                },\n                closingTime: {\n                    time: pollData.message.time_close_poll\n                }\n            },\n            highlight: function(element) {\n                $(element).closest('.form-group').addClass('has-error');\n            },\n            unhighlight: function(element) {\n                $(element).closest('.form-group').removeClass('has-error');\n            },\n            errorElement: 'span',\n            errorClass: 'help-block',\n            errorPlacement: function(error, element) {\n                if(element.parent('.input-group').length) {\n                    error.insertAfter(element.parent());\n                } else {\n                    error.insertAfter(element);\n                }\n            }\n        });\n\n\n        $('#create_poll_wizard').bootstrapWizard({\n            'tabClass': 'nav nav-tabs',\n            onNext: function(tab, navigation, index) {\n                return checkValidFormWinzard($('#create_poll_wizard'), $(\"#form_create_poll\"), $validator);\n            },\n            onTabClick: function(tab, navigation, index) {\n                return checkValidFormWinzard($('#create_poll_wizard'), $(\"#form_create_poll\"), $validator);\n            },\n            onTabShow: function(tab, navigation, index) {\n                var $total = navigation.find('li').length;\n                var $current = index+1;\n                var $percent = ($current/$total) * 100;\n                $('#create_poll_wizard').find('.bar').css({width:$percent + '%'});\n\n                if($current == 1) {\n                    $('#create_poll_wizard').find('.pager .previous').hide();\n                } else {\n                    $('#create_poll_wizard').find('.pager .previous').show();\n\n                    if($current == 2) {\n                        $('.finish').removeClass('hidden');\n                        $('.btn-finish').addClass('btn-center');\n                    }\n\n                    if($current == 4) {\n                        $('.btn-finish').removeClass('btn-center');\n                    }\n                }\n            }\n        });\n    }\n\n    $('#voting_wizard').bootstrapWizard({\n        // 'tabClass': 'nav nav-pills'\n    });\n\n    $('#manager_poll_wizard').bootstrapWizard({\n        // 'tabClass': 'nav nav-pills'\n    });\n\n    $('#edit_poll_wizard').bootstrapWizard({\n        // 'tabClass': 'nav nav-pills'\n    });\n\n    $('#duplicate_poll_wizard').bootstrapWizard({\n        'tabClass': 'nav nav-tabs',\n        onNext: function(tab, navigation, index) {\n            return checkValidFormWinzard($('#duplicate_poll_wizard'), $(\"#form_duplicate_poll\"), $validator);\n        },\n        onTabClick: function(tab, navigation, index) {\n            return checkValidFormWinzard($('#duplicate_poll_wizard'), $(\"#form_duplicate_poll\"), $validator);\n        },\n        onTabShow: function(tab, navigation, index) {\n            var $total = navigation.find('li').length;\n            var $current = index+1;\n            var $percent = ($current/$total) * 100;\n            $('#duplicate_poll_wizard').find('.bar').css({width:$percent+'%'});\n\n            if($current == 1) {\n                $('#create_poll_wizard').find('.pager .previous').hide();\n            }\n        }\n    });\n\n    $('input[name^=setting_child]').on('change', function () {\n        var value = $(this).val();\n        var settings = pollData.config.setting;\n\n        if (value == settings.required_name) {\n            $('.setting-' + settings.not_same_email)\n                .add('.setting-' + settings.add_type_mail).fadeOut();\n            $('.add-type-email').hide();\n            return;\n        }\n\n        var parent = $(this).parent();\n        var boxSettingNotTheEmail = parent.siblings('.setting-' + settings.not_same_email);\n        var boxSettingTypeEmail = parent.siblings('.setting-' + settings.add_type_mail);\n        var boxInputTypeEmail = parent.siblings('.add-type-email');\n\n        boxInputTypeEmail.find('input[name^=value]').tagsinput('removeAll');\n\n        $('.setting-' + settings.not_same_email).not(boxSettingNotTheEmail).hide();\n        $('.setting-' + settings.add_type_mail).not(boxSettingTypeEmail).hide();\n        $('.setting-' + settings.add_type_mail).find('.switch-checkbox-setting').bootstrapSwitch('state', false);\n        $('.add-type-email').hide();\n\n        boxSettingNotTheEmail\n            .add(boxSettingTypeEmail)\n            .fadeIn()\n            .css('display', 'block');\n    });\n\n    $('.st-add-type-email').on('switchChange.bootstrapSwitch', function(event, state) {\n        var boxAddTypeEmail = $(this).closest('div[class^=setting]').siblings('.add-type-email');\n        boxAddTypeEmail.slideToggle();\n    });\n\n    $('.tab-content').on('itemAdded', '.add-type-email:visible .tags-email', function (event) {\n        var pattern = /^[A-Z0-9-]+(\\.+([A-Z]+)){1,4}$/i;\n        var typeEmail = event.item;\n        var domError = $(this).parent().next();\n\n        if (!pattern.test(typeEmail)) {\n            $(this).tagsinput('remove', typeEmail);\n            domError.addClass('has-error')\n                .html('<span id=\"title-error\" class=\"help-block\">' + pollData.message.type_email_invalid + ': ' + typeEmail +'</span>');\n\n            return;\n        }\n\n        domError.removeClass('has-error').html('');\n    });\n\n    // Show Modal Image Option\n    $('#horizontal').on('click', '.pick-media-image', function () {\n        var image = $(this).find('img').prop('src');\n        $('#imageOfOptionPreview').attr(\"src\", image);\n        $('#modalImageOption').modal('show');\n    });\n\n    // Add scale menu\n    $('.poll-option').on('click', '.tooltip-control', function () {\n        $(this).parent().toggleClass('is-scale')\n    })\n\n    $('.poll-option').on('click', '.js-add-des-for-option', function (event) {\n        var elQuill = $(this).closest('.box-des-option').siblings('.des-quill-editor').get(0)\n        var quill = new Quill(elQuill, {\n            modules: {\n                toolbar: [\n                        ['bold', 'italic', 'underline', 'strike'],\n                        ['blockquote', 'code-block'],\n                        [{ 'list': 'ordered'}, { 'list': 'bullet' }],\n                        [{ 'script': 'sub'}, { 'script': 'super' }],\n                        [{ 'size': ['small', false, 'large', 'huge'] }],\n                        [{ 'header': [1, 2, 3, 4, 5, 6, false] }],\n                        [{ 'color': [] }, { 'background': [] }],\n                        [{ 'align': [] }],\n                    ]\n                },\n                placeholder: 'Type a description of option...',\n                theme: 'bubble'  // or 'bubble'\n            });\n    })\n\n    var quill = new Quill('#test-quill', {\n        modules: {\n            toolbar: [\n                    ['bold', 'italic', 'underline', 'strike'],        // toggled buttons\n                    ['blockquote', 'code-block'],\n                    [{ 'list': 'ordered'}, { 'list': 'bullet' }],\n                    [{ 'script': 'sub'}, { 'script': 'super' }],      // superscript/subscript\n                    [{ 'direction': 'rtl' }],                         // text direction\n\n                    [{ 'size': ['small', false, 'large', 'huge'] }],  // custom dropdown\n                    [{ 'header': [1, 2, 3, 4, 5, 6, false] }],\n\n                    [{ 'color': [] }, { 'background': [] }],          // dropdown with defaults from theme\n                    [{ 'font': [] }],\n                    [{ 'align': [] }],\n\n                    ['clean']\n                ]\n            },\n            theme: 'bubble'  // or 'bubble'\n        });\n\n});\n\n$(window).on('load', function() {\n    if (typeof pollData !== \"undefined\") {\n        var oldInput = pollData.oldInput;\n        var viewOption = pollData.view.option;\n        var number = pollData.config.length.option;\n        createOption(viewOption, number, oldInput);\n        pickDateOption();\n\n        if (oldInput) {\n            $('#email-participant').show();\n        }\n    }\n});\n\n//autoload location\nif (document.getElementById('location') != null) {\n    google.maps.event.addDomListener(window, 'load', function () {\n        var places = new google.maps.places.Autocomplete(document.getElementById('location'));\n        google.maps.event.addListener(places, 'place_changed', function () {\n\n        });\n    });\n}\n"]}