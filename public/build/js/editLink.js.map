{"version":3,"sources":["editLink.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"editLink.js","sourcesContent":["$(document).ready(function(){\n\n    $.ajaxSetup({\n        headers: {\n            'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n        }\n    });\n\n    $('.loader').hide();\n    $('#label_link_user').attr('href', $('.token-user').val());\n    $('#label_link_admin').attr('href', $('.token-admin').val());\n\n    $('.edit-link-user').click(function(e){\n        e.preventDefault();\n        $('.loader').show();\n        divChangeAmount = $(this).parent();\n        var tokenLinkUser = divChangeAmount.data('tokenLinkUser');\n        var pollId = $('.hide').data('pollId');\n        var route = $('.hide').data('route');\n        var linkExist = $('.hide').data('linkExist');\n        var linkInvalid = $('.hide').data('linkInvalid');\n        var editLinkSuccess = $('.hide').data('editLinkSuccess');\n        var tokenInput = $('.token-user').val();\n\n        if (tokenInput == '') {\n            $('.loader').hide();\n\n            return;\n        }\n\n        if ($('.latest-token-user').html() == tokenInput) {\n            $('.loader').hide();\n            $('.message-link-user').html('');\n            $('#title-success').html('');\n            return;\n        }\n\n        $.ajax({\n            type: 'POST',\n            url: route + '/' + pollId,\n            dataType: 'JSON',\n            data: {\n                '_method': 'PUT',\n                'token_input': tokenInput,\n                'is_link_admin': 0,\n            },\n            success: function(data){\n                $('.loader').hide();\n\n                if (data.success) {\n                    $('#label_link_user').attr('href', $('.token-user').val());\n                    $('.message-link-user').html(editLinkSuccess);\n                    $('.latest-token-user').html(data.token_link);\n                    hideLabelMessage('.message-link-user');\n                }\n            }\n        });\n    });\n\n    $('.edit-link-admin').click(function(e){\n        e.preventDefault();\n        $('.loader').show();\n        divChangeAmount = $(this).parent();\n        var tokenLinkUser = divChangeAmount.data('tokenLinkAdmin');\n        var pollId = $('.hide').data('pollId');\n        var route = $('.hide').data('route');\n        var linkExist = $('.hide').data('linkExist');\n        var linkInvalid = $('.hide').data('linkInvalid');\n        var editLinkSuccess = $('.hide').data('editLinkAdminSuccess');\n        var tokenInput = $('.token-admin').val();\n\n        if (tokenInput == '') {\n            $('.loader').hide();\n\n            return;\n        }\n\n        if (tokenLinkUser == tokenInput) {\n            $('.loader').hide();\n\n            return;\n        }\n\n        $.ajax({\n            type: 'POST',\n            url: route + '/' + pollId,\n            dataType: 'JSON',\n            data: {\n                '_method': 'PUT',\n                'token_input': tokenInput,\n                'is_link_admin': 1,\n            },\n            success: function(data){\n                $('.loader').hide();\n\n                if (data.success) {\n                     swal({\n                        title: editLinkSuccess,\n                        timer: 2000,\n                        showConfirmButton: false\n                    });\n                    setTimeout(function(){\n                        window.location.href = $('.hide').data('urlAdmin') + \"/\" + tokenInput;\n                    } , 2000);\n                }\n            }\n        });\n    });\n});\n"]}